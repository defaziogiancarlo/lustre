.TH LFS-QUOTA 1 2020-04-06 "Lustre" "Lustre Utilities"
.SH NAME
lfs quota \- query quota limits and status for users, groups or projects.
.SH SYNOPSIS
.B lfs quota \fR[\fB-qv\fR] [\fB-o \fIobd_uuid\fR|\fB-I \fIost_idx\fR|\fB-i \fImdt_idx\fR]
          [\fB-u <\fIuname\fR|\fIuid\fR>|\fB-g <\fIgname\fR|\fIgid\fR>|\fB-p <\fIprojid\fR>] 
	<\fIfilesystem\fR>\fR

.br
.B lfs quota -t \fR<\fB-u\fR|\fB-g\fR|\fB-p\fR> <\fIfilesystem\fR>
.br

.B quota [-q] [-v] [-o obd_uuid|-i mdt_idx|-I ost_idx] [-u|-g|-p <uname>|<uid>|<gname>|<gid>|<projid>] <filesystem>
To display disk usage and limits, either for the full filesystem, or for objects on a specific obd. A user or group name or an ID can be specified. If user group and project are omitted quotas for current uid/gid/projid are shown. -v provides more verbose (with per-obd statistics) output. -q disables printing of additional descriptions (including column titles).
.TP
.B quota -t [-hqv] <-u|-U|-g|-G|-p|-P> <filesystem>
To display block and inode grace times for users (-u|-U) or groups (-g|-G) or projects (-p|-P).
The limits displayed are globabl values for the filesystem.
The upper and lower case options make no difference for this command. The (-hqv) options are allowed
but do nothing. The grace period seconds are always displayed in human readable form.
.TP
.B quota -e [-hqv] <-u|-U|-g|-G|-p|-P> <filesystem>
To display block and inode grace times for users (-u|-U) or groups (-g|-G) or projects (-p|-P).
The limits displayed are globabl values for the filesystem.
The upper and lower case options make no difference for this command. The (-hqv) options are allowed
but do nothing. The grace period seconds are always displayed in human readable form.
.TP
.TP
.SH DESCRIPTION
.PP
.BR "lfs quota " {\fB-u|-g|-p\fR}
.TP
Command displays quota data for users, groups or projects. \

Command sets the filesystem quotas for users, groups or projects respectively. \
Block limits unit is kilobyte (1024) by default and block limits are always \
kilobyte-grained (even if specified in bytes), block limits can be specified \
with a \
.BR k "," M "," G "," T "," P ", or " E \
suffixes which specify units of 2^10, 2^20, 2^30, 2^40, 2^50 and 2^60 \
accordingly.
.TP
.B -u <\fIuname|uid\fR>
Get user quota information for \fIuname\fR or \fIuid\fR.
.TP
.B -U <\fIuname|uid\fR>
Get user quota information for \fIuname\fR or \fIuid\fR.
.TP
.B -g <\fIgname|gid\fR>
Get group quota information for name \fIgname\fR or \fIgid\fR.
.TP
.B -G <\fIgname|gid\fR>
Get group quota information for name \fIgname\fR or \fIgid\fR.
.TP
.B -p <\fIprojid\fR>
Get project quota information for \fIprojid\fR.
.TP
.B -P <\fIprojid\fR>
Get project quota information for \fIprojid\fR.
.TP
.B -i <\fIinode-softlimit\fR>
Specify inode softlimit, zero means unlimited.
.TP
.B -i <\fIinode-softlimit\fR>
Specify inode softlimit, zero means unlimited.
.TP
.B -i <\fIinode-softlimit\fR>
Specify inode softlimit, zero means unlimited.
.TP
.B -t
Get grace times for users, groups or projects. \
The times returned are global for the filesystem.
.TP
.B -q <\fIinode-softlimit\fR>
Quiet. Display only the line containing the data. \
The line saying what the data is, and the line with the data
column headers will not be printed.
.TP
git .B -I <\fIinode-hardlimit\fR>
Specify inode hardlimit, zero means unlimited. The inode hardlimit should be \
greater than inode softlimit when it's being specified.
.PP
.BR "lfs setquota -t "
.TP
Command sets the filesystem quota grace time for users, groups, or projects. \
This is a global value that can take two forms: an amount of time or the word \
\'\fBnotify\fR'.  Traditionally, this indicates the amount of time in seconds \
that the soft quota limit can be exceeded before users are prevented from \
creating new files or consuming more space.  This is intended to allow users \
to exceed the quota limit for a short time to complete their work without \
having to grant each user a larger hard quota limit. The alternative value of \
\'\fBnotify\fR' informs users with an '\fB*\fR' in the quota output that they \
are nearing their hard quota limit but does not block new writes until the hard \
quota limit is reached.  The soft quota state is reset once the user, group, \
or project reduces their space usage or file count below the soft quota limit. \
Grace time is specified in "XXwXXdXXhXXmXXs" format or as an integer seconds \
value.  The maximum is 2^48 - 1 seconds.
.TP
.B -t
Set quota grace times.
.TP
.B -u
Set grace time for user.
.TP
.B -g
Set grace time for group.
.TP
.B -p
Set grace time for project.
.TP
.B -b|--block-grace 'notify'|<\fIblock-grace\fR>
Specify grace time for block quota.
.TP
.B -i|--inode-grace 'notify'|<\fIinode-grace\fR>
Specify grace time for inode quota.
.PP
.BR "lfs setquota " {\fB-U|--default-usr|-G|--default-grp|-P|--default-prj\fR}
.TP
Command sets the filesystem default limits for user,group,project quotas, \
if set, users/groups/projects without specific quota setting will use \
default quota limits automatically.
.TP
.B -U|--default-usr
Set default user quota limit.
.TP
.B -G|--default-grp
Set default group quota limit.
.TP
.B -P|--default-prj
Set default project quota limit.
.TP
.PP
.SH EXAMPLES
.TP
.B $ lfs setquota -u bob --block-softlimit 2G --block-hardlimit 1G /mnt/lustre
Set quotas of user `bob': 1GB block hardlimit and 2 GB block softlimit
.TP
.B $ lfs setquota -u bob -d /mnt/lustre
Set quotas of user `bob' to use default quota setting
.TP
.B $ lfs setquota -U --block-softlimit 1G --block-hardlimit 2G /mnt/lustre
Set system default user quota: 1 GB block softlimit and 2 GB block hardlimit
.TP
.B $ lfs setquota -t -u --block-grace 1000 --inode-grace 1w4d /mnt/lustre
Set grace times for user quotas: 1000 seconds for block quotas, 1 week and 4 \
days for inode quotas
.SH SEE ALSO
.BR lfs (1)
